---
version: 2.1

commands:
  test:
    steps:
      - run: node --version
      - run: npm --version
      - run: openssl version
      - checkout
      - run: npm i
      - run: npm test

jobs:
  node-v8: { docker: [{ image: circleci/node:8 }], steps: [ test ]}
  node-v9: { docker: [{ image: circleci/node:9 }], steps: [ test ]}
  node-v10: { docker: [{ image: circleci/node:10 }], steps: [ test ]}
  node-v11: { docker: [{ image: circleci/node:11 }], steps: [ test ]}

workflows:
  test-suite:
    jobs:
      - node-v8
      - node-v9
      - node-v10
      - node-v11
